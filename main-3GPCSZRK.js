import{a as b}from"./chunk-4DOT5T7A.js";import{a as I}from"./chunk-SD26ZGFB.js";import{a as g,b as a,c as R}from"./chunk-MLIP6L5G.js";import"./chunk-QWLWO6DT.js";import"./chunk-I24E4AGB.js";import{g as y}from"./chunk-LTY4KBVV.js";import{Ka as f,Ob as d,R as u,W as n,X as l,eb as h,hc as C,jc as v,kc as A,l as m,x as s}from"./chunk-VBLDOLAL.js";import"./chunk-2NFLSA4Y.js";var r=class t{constructor(o,e,i){this.auth=o;this.router=e;this.snackBar=i}canActivate(){let o=this.auth.isAuthenticated();return o||this.snackBar.open("Por favor, inicia sesi\xF3n para continuar.","Cerrar",{verticalPosition:"top",horizontalPosition:"center",duration:3e3}),o?!0:this.router.parseUrl("/")}canActivateChild(){return this.canActivate()}static \u0275fac=function(e){return new(e||t)(n(I),n(a),n(y))};static \u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"})};var k=[{path:"",loadComponent:()=>import("./chunk-XK4HPRTS.js").then(t=>t.LoginComponent)},{path:"register",loadComponent:()=>import("./chunk-GUJVOP7K.js").then(t=>t.RegisterComponent)},{path:"home",canActivate:[r],canActivateChild:[r],loadComponent:()=>import("./chunk-MXR5WRFU.js").then(t=>t.UserHomeLayoutComponent),loadChildren:()=>import("./chunk-JI2QSB6M.js").then(t=>t.routes)},{path:"info",canActivate:[r],loadComponent:()=>import("./chunk-5BT4XF5X.js").then(t=>t.UpdateUserDataComponent)}];var M=(t,o)=>{let e=l(a),i=sessionStorage.getItem("token");if(t.url.includes("/auth/login")||t.url.includes("/auth/register"))return o(t);let j=i?t.clone({setHeaders:{Authorization:`Bearer ${i}`}}):t;return o(j).pipe(s(c=>(c.status===403&&e.navigate(["/"]),m(()=>c))))};var S={providers:[d({eventCoalescing:!0}),R(k),v(A([M])),b()]};var p=class t{title="colsalud-angular";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){e&1&&h(0,"router-outlet")},dependencies:[g],encapsulation:2})};C(p,S).catch(t=>console.error(t));
