import{a as U}from"./chunk-Q5MM74UU.js";import{b as S}from"./chunk-N7A26PNA.js";import{A,B as T,J as V,b as _,c as M,d as y,g as w,h as E,j as I,l as d,o as F,p as G,t as B,u as L,v as N,w as j,y as D}from"./chunk-CQBN377C.js";import"./chunk-42WQ4I5L.js";import{a as k,b as C,c as R,d as q,e as P}from"./chunk-AINHTS73.js";import{Aa as a,Bb as b,Ea as l,Na as h,Sa as f,Xa as v,Ya as s,ec as x,fb as t,gb as i,hb as p,nb as u,ua as g,zb as r}from"./chunk-CKGIQUTN.js";import"./chunk-2NFLSA4Y.js";function O(m,e){m&1&&(t(0,"mat-error"),r(1,"Requerido"),i())}function J(m,e){m&1&&(t(0,"mat-error"),r(1,"Este campo es requerido "),i())}var z=class m{constructor(e,n,o,c){this.router=e;this.fb=n;this.authService=o;this.snackBar=c;this.formGroup=this.fb.group({username:["901234567",d.required],password:["hola123",d.required]})}formGroup;hide=g(!0);clickEvent(e){this.hide.set(!this.hide()),e.stopPropagation()}navigate(e){this.router.navigate([e]).then()}hasError(e){return this.formGroup.get(e).invalid&&this.formGroup.get(e).touched}login(){this.formGroup.valid&&this.authService.login({username:this.formGroup.value.username,password:this.formGroup.value.password}).subscribe({next:e=>{let n=e.headers.get("Authorization");if(n)sessionStorage.setItem("token",n);else throw new Error("No se ha recibido el token");this.navigate("/home")},error:e=>{e.status==401&&this.snackBar.open("Usuario o contrase\xF1a incorrectos","",{duration:5e3,panelClass:["error-snackbar","mb-5"],horizontalPosition:"right",verticalPosition:"top"})}})}static \u0275fac=function(n){return new(n||m)(l(S),l(j),l(U),l(V))};static \u0275cmp=h({type:m,selectors:[["app-login"]],decls:30,vars:7,consts:[[1,"flex","min-h-screen","h-screen","items-center","justify-center"],[1,"flex","border","p-4","h-1/2","w-1/2","rounded-lg","shadow-lg","border-gray-400"],[1,"flex","flex-col","items-center","w-1/2","py-4","relative"],[1,"flex","flex-col","items-center","justify-center","flex-grow","w-3/4","mb-3"],[1,"pb-7","text-2xl","font-mono","text-slate-150"],[1,"pb-4","text-lg"],[3,"formGroup"],["appearance","fill",1,"w-full","mb-2"],[1,"my-2"],["matInput","","formControlName","username","type","text"],["matSuffix",""],[4,"ngIf"],[1,"w-full","mb-2"],["formControlName","password","matInput","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["mat-flat-button","",1,"bg-blue-500","text-white","px-4","py-2","rounded",3,"click"],[1,"text-sm","mt-4","cursor-pointer","hover:text-blue-800",3,"click"],[1,"flex","items-center","justify-center","w-1/2","ml-8","shadow-lg","rounded-lg"],["src","/login.png","alt","Happy Family",1,"w-full","h-full","object-cover","rounded-lg"]],template:function(n,o){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),r(5,"COLSALUD"),i(),t(6,"h1",5),r(7,"Bienvenido"),i(),t(8,"form",6)(9,"mat-form-field",7)(10,"mat-label",8),r(11,"Usuario"),i(),p(12,"input",9),t(13,"mat-icon",10),r(14,"person"),i(),f(15,O,2,0,"mat-error",11),i(),t(16,"mat-form-field",12)(17,"mat-label"),r(18,"Contrase\xF1a"),i(),p(19,"input",13),f(20,J,2,0,"mat-error",11),t(21,"button",14),u("click",function(H){return o.clickEvent(H)}),t(22,"mat-icon"),r(23),i()()()(),t(24,"button",15),u("click",function(){return o.login()}),r(25," Iniciar sesi\xF3n "),i()(),t(26,"p",16),u("click",function(){return o.navigate("/register")}),r(27," No tengo cuenta "),i()(),t(28,"div",17),p(29,"img",18),i()()()),n&2&&(a(8),s("formGroup",o.formGroup),a(7),s("ngIf",o.hasError("username")),a(4),s("type",o.hide()?"password":"text"),a(),s("ngIf",o.hasError("password")),a(),v("aria-label","Hide password")("aria-pressed",o.hide()),a(2),b("",o.hide()?"visibility_off":"visibility"," "))},dependencies:[E,w,_,M,y,T,A,C,k,P,q,R,D,B,I,F,G,L,N,x],encapsulation:2,changeDetection:0})};export{z as LoginComponent};
